/* Hybrid CSS: Fixed-width for PC, Responsive for Mobile */

/* Reset and normalize - applies to all devices */
* {
    box-sizing: border-box;
}

/* PC First: Preserve existing fixed-width layout for desktop */
/* Your existing layout is preserved by default */

/* MOBILE ONLY: Apply responsive design only on mobile screens */
@media screen and (max-width: 767px) {
    /* Mobile base styles */
    body {
        font-size: 16px;
        line-height: 1.6;
        margin: 0;
        padding: 0;
        -webkit-text-size-adjust: 100%;
        -ms-text-size-adjust: 100%;
    }

    /* Container responsive design */
    #__next {
        width: 100% !important;
        max-width: 100vw !important;
        margin: 0 !important;
        padding: 0 16px !important;
        background-color: #d8d8d8;
        min-height: 100vh;
    }

    #page-ctn {
        width: 100% !important;
        max-width: none !important;
        margin: 0 auto !important;
        padding: 16px !important;
        background-color: white;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
        border-radius: 0;
        min-height: auto !important;
        margin-bottom: 0 !important;
    }

    /* Hide header on mobile */
    #page-header {
        display: none !important;
    }

    .markdown-body {
        width: 100% !important;
        padding: 0 !important;
        font-size: 16px !important;
        line-height: 1.6 !important;
        margin: 0 !important;
    }

    /* Mobile typography */
    .markdown-body h1 {
        font-size: 1.8em !important;
        margin: 0.8em 0 0.5em 0 !important;
        text-align: left !important;
        padding-top: 0.5em !important;
        padding-bottom: 0.3em !important;
    }

    .markdown-body h2 {
        font-size: 1.5em !important;
        margin: 0.7em 0 0.4em 0 !important;
    }

    .markdown-body h3 {
        font-size: 1.3em !important;
        margin: 0.6em 0 0.3em 0 !important;
    }

    .markdown-body h4 {
        font-size: 1.1em !important;
        margin: 0.5em 0 0.3em 0 !important;
    }

    .markdown-body h5 {
        font-size: 1em !important;
        margin: 0.5em 0 0.2em 0 !important;
    }

    .markdown-body h6 {
        font-size: 0.9em !important;
        margin: 0.4em 0 0.2em 0 !important;
    }

    /* Mobile-friendly code blocks */
    .markdown-body pre {
        font-size: 14px !important;
        padding: 12px !important;
        margin: 16px 0 !important;
        border-radius: 6px;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }

    .markdown-body code {
        font-size: 0.9em !important;
        padding: 2px 4px !important;
        border-radius: 3px;
        word-break: break-word;
    }

    /* Mobile tables - force horizontal scroll */
    .markdown-body table {
        display: block !important;
        width: 100% !important;
        overflow-x: auto !important;
        -webkit-overflow-scrolling: touch;
        margin: 16px auto !important;
    }

    .markdown-body table th,
    .markdown-body table td {
        padding: 6px 8px !important;
        font-size: 12px !important;
        white-space: nowrap;
        min-width: 80px;
    }

    /* Mobile-friendly lists */
    .markdown-body ul,
    .markdown-body ol {
        padding-left: 20px !important;
        margin: 12px 0 !important;
    }

    .markdown-body li {
        margin: 4px 0 !important;
        word-wrap: break-word;
    }

    /* Mobile collapsible sections */
    .wrap-collabsible,
    .wrap-content-collapsible {
        margin: 16px 0 !important;
        padding: 0;
    }

    .lbl-toggle {
        font-size: 12px !important;
        padding: 8px 12px !important;
        -webkit-tap-highlight-color: rgba(0,0,0,0.1);
    }

    .toggle:checked+.lbl-toggle+.collapsible-content,
    .toggle:checked+.lbl-toggle+.content-collapsible-content {
        max-height: 70vh !important;
        overflow-y: auto !important;
        overflow-x: auto !important;
        -webkit-overflow-scrolling: touch;
    }

    .collapsible-content .content-inner,
    .content-collapsible-content .content-inner {
        padding: 8px 12px !important;
        margin-top: 0 !important;
    }

    /* Math rendering mobile optimization */
    .MathJax {
        font-size: 0.9em !important;
    }

    /* Touch-friendly links */
    .markdown-body a {
        -webkit-tap-highlight-color: rgba(64, 115, 221, 0.3);
        word-break: break-word;
    }

    /* Images responsive */
    .markdown-body img {
        max-width: 100% !important;
        height: auto !important;
        margin: 8px 0 !important;
    }

    /* Admonition mobile */
    .admonition-wrapper {
        padding: 12px 0 !important;
    }

    .admonition.orange {
        margin: 8px !important;
        padding: 4px 8px !important;
    }

    .admonition-orange {
        margin: -8px !important;
        padding: 1px 8px !important;
        font-size: 0.9em !important;
    }
}

/* TABLET: Medium screens */
@media screen and (min-width: 768px) and (max-width: 1023px) {
    #page-ctn {
        margin: 16px auto !important;
        border-radius: 8px;
    }
    
    #__next {
        padding: 0 24px !important;
    }
    
    .markdown-body h1 {
        text-align: center !important;
    }
}

/* DESKTOP: Large screens - preserve your fixed-width design */
@media screen and (min-width: 1024px) {
    /* Your existing CSS rules take precedence here */
    /* No overrides needed - keep your 700px/800px layout */
    
    /* Ensure header is visible on desktop */
    #page-header {
        display: block !important;
    }
}

/* High DPI displays */
@media screen and (-webkit-min-device-pixel-ratio: 2), 
       screen and (min-resolution: 192dpi) {
    .markdown-body {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }
}

/* Print styles */
@media print {
    #__next {
        background: white !important;
        padding: 0 !important;
    }
    
    #page-ctn {
        box-shadow: none !important;
        border: 1px solid #ccc;
        margin: 0;
        max-width: none;
        width: 100%;
    }
    
    .wrap-collabsible,
    .wrap-content-collapsible {
        display: none !important;
    }
    
    .markdown-body pre {
        white-space: pre-wrap;
        page-break-inside: avoid;
    }
}